# üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Network Scanner

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π Network Scanner.

## üîç –ü—Ä–∏–º–µ—Ä—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∏

### –ë–∞–∑–æ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ IP
```
192.168.1.1
```

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
```
192.168.1.1-192.168.1.254
```

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å–µ—Ç–∏
```
192.168.1.0/24
```

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
```
192.168.1.1-10,192.168.2.1-20,10.0.0.1-50
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏
```
10.0.0.1-10.0.0.100
```

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ DMZ
```
172.16.0.1-172.16.0.50
```

#### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å–µ—Ç–∏
```
192.168.100.1-192.168.100.200
```

## üíª –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

#### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –í–≤–µ–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã"
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

#### –ß–µ—Ä–µ–∑ PowerShell (Windows):
```powershell
# –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Å–∫—Ä–∏–ø—Ç–∞
.\process_helper.ps1 -ComputerName "192.168.1.100"

# –ò–ª–∏ —á–µ—Ä–µ–∑ fix.ps1 –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
.\fix.ps1 -ComputerName "192.168.1.100"
```

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

#### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ —Ç–∞–±–ª–∏—Ü–µ
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–≤–µ—Ä—à–∏—Ç—å" —Ä—è–¥–æ–º —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ

#### –ü—Ä–∏–º–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ PID:
```bash
# –î–ª—è Windows (—á–µ—Ä–µ–∑ PowerShell)
taskkill /PID 1234 /F

# –î–ª—è Linux
kill -9 1234
```

## üñ•Ô∏è –ü—Ä–∏–º–µ—Ä—ã VNC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

#### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "VNC" —Ä—è–¥–æ–º —Å IP –∞–¥—Ä–µ—Å–æ–º
4. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - **–•–æ—Å—Ç**: IP –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
   - **–ü–æ—Ä—Ç**: 5900 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - **–ü–∞—Ä–æ–ª—å**: –ø–∞—Ä–æ–ª—å VNC —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

#### –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```
http://localhost:8080/vnc_client.html?host=192.168.1.100&port=5900
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VNC

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–∞—Ä–æ–ª–µ–º:
```
http://localhost:8080/vnc_client.html?host=192.168.1.100&port=5900&password=mypassword
```

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ—Ä—Ç—É:
```
http://localhost:8080/vnc_client.html?host=192.168.1.100&port=5901
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

### –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–≠–∫—Å–ø–æ—Ä—Ç CSV"
4. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ CSV —Ñ–∞–π–ª–∞:
```csv
IP,Status,ResponseTime,Timestamp,Hostname
192.168.1.1,Online,1.23,2024-01-15T10:30:00Z,router.local
192.168.1.2,Online,0.89,2024-01-15T10:30:01Z,server.local
192.168.1.3,Offline,0.00,2024-01-15T10:30:02Z,
```

### –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤

#### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "–õ–æ–≥–∏"
2. –ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å –ª–æ–≥"
3. –§–∞–π–ª `network_scan.log` –±—É–¥–µ—Ç —Å–∫–∞—á–∞–Ω

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥ —Ñ–∞–π–ª–∞:
```
2024-01-15T10:30:00Z	scan_start	{"range":"192.168.1.1-254","total":254}
2024-01-15T10:30:01Z	scan_result	{"ip":"192.168.1.1","status":"Online","response_time":1.23}
2024-01-15T10:30:02Z	scan_complete	{"total":254,"online":15,"offline":239}
```

## üîß –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞

#### Linux/macOS:
```bash
export ADDR="0.0.0.0:9090"
go run main.go
```

#### Windows:
```cmd
set ADDR=0.0.0.0:9090
go run main.go
```

#### PowerShell:
```powershell
$env:ADDR = "0.0.0.0:9090"
go run main.go
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

#### –ó–∞–ø—É—Å–∫ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å (systemd):
```ini
[Unit]
Description=Network Scanner
After=network.target

[Service]
Type=simple
User=scanner
WorkingDirectory=/opt/network-scanner
ExecStart=/opt/network-scanner/scanner
Environment=ADDR=0.0.0.0:8080
Restart=always

[Install]
WantedBy=multi-user.target
```

#### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker:
```dockerfile
FROM golang:1.21-alpine AS builder
WORKDIR /app
COPY . .
RUN go mod tidy
RUN go build -o scanner main.go

FROM alpine:latest
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /app/scanner .
COPY --from=builder /app/vnc_client.html .
COPY --from=builder /app/novnc ./novnc
EXPOSE 8080
CMD ["./scanner"]
```

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### Bash —Å–∫—Ä–∏–ø—Ç:
```bash
#!/bin/bash
# –†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏

NETWORK_RANGE="192.168.1.1-192.168.1.254"
LOG_FILE="/var/log/network_scan_$(date +%Y%m%d).log"

echo "Starting network scan at $(date)" >> $LOG_FILE

# –ó–∞–ø—É—Å–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ API
curl -X POST "http://localhost:8080/" \
  -d "action=scan&range=$NETWORK_RANGE" \
  >> $LOG_FILE

echo "Network scan completed at $(date)" >> $LOG_FILE
```

#### PowerShell —Å–∫—Ä–∏–ø—Ç:
```powershell
# –†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ (Windows)

$NetworkRange = "192.168.1.1-192.168.1.254"
$LogFile = "C:\Logs\network_scan_$(Get-Date -Format 'yyyyMMdd').log"

Write-Output "Starting network scan at $(Get-Date)" | Out-File -FilePath $LogFile -Append

# –ó–∞–ø—É—Å–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ API
$Body = @{
    action = "scan"
    range = $NetworkRange
}

Invoke-RestMethod -Uri "http://localhost:8080/" -Method POST -Body $Body | Out-File -FilePath $LogFile -Append

Write-Output "Network scan completed at $(Get-Date)" | Out-File -FilePath $LogFile -Append
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

#### Prometheus –º–µ—Ç—Ä–∏–∫–∏:
```go
// –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ Prometheus
var (
    scanCounter = prometheus.NewCounterVec(
        prometheus.CounterOpts{
            Name: "network_scans_total",
            Help: "Total number of network scans",
        },
        []string{"status"},
    )
    
    scanDuration = prometheus.NewHistogramVec(
        prometheus.HistogramOpts{
            Name: "network_scan_duration_seconds",
            Help: "Duration of network scans",
        },
        []string{"range"},
    )
)
```

## üîç –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### –¢–µ—Å—Ç ping:
```bash
ping -c 4 192.168.1.1
```

#### –¢–µ—Å—Ç –ø–æ—Ä—Ç–æ–≤:
```bash
nmap -p 5900 192.168.1.100
```

#### –¢–µ—Å—Ç VNC —Å–µ—Ä–≤–µ—Ä–∞:
```bash
vncviewer 192.168.1.100:5900
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π:
```bash
tail -f network_scan.log
```

#### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è:
```bash
grep "scan_result" network_scan.log | tail -20
```

#### –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫:
```bash
grep "error" network_scan.log
```

## üìà –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### –ü–æ–¥—Å—á–µ—Ç –æ–Ω–ª–∞–π–Ω —Ö–æ—Å—Ç–æ–≤:
```bash
grep '"status":"Online"' network_scan.log | wc -l
```

#### –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞:
```bash
grep '"status":"Online"' network_scan.log | \
  jq -r '.response_time' | \
  awk '{sum+=$1; count++} END {print sum/count}'
```

#### –¢–æ–ø —Ö–æ—Å—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞:
```bash
grep '"status":"Online"' network_scan.log | \
  jq -r 'select(.response_time > 0) | "\(.ip) \(.response_time)"' | \
  sort -k2 -n
```

–≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–º–æ–≥—É—Ç –≤–∞–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Network Scanner –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ç–∏.
